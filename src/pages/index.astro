---
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>Paywall POC — Three Implementation Approaches</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
      :root {
        --bg-0: #0a0805;
        --bg-1: #16120e;
        --surface: rgba(28, 25, 23, 0.85);
        --border: rgba(251, 191, 36, 0.25);
        --text-strong: #fffaf5;
        --text: #e8ddd3;
        --text-soft: #c4b5a5;
        --accent: #f59e0b;
        --accent-strong: #ea580c;
        --radius-sm: 10px;
        --radius-md: 14px;
        --radius-lg: 18px;
      }

      * { box-sizing: border-box; margin: 0; padding: 0; }
      
      body {
        font-family: "Inter", system-ui, -apple-system, sans-serif;
        background: var(--bg-0);
        color: var(--text-strong);
        line-height: 1.6;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 24px;
      }

      /* Header */
      .header {
        padding: 40px 0;
        border-bottom: 1px solid var(--border);
        margin-bottom: 60px;
      }

      .header-content {
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .brand {
        display: flex;
        align-items: center;
        gap: 12px;
        font-weight: 700;
        font-size: 1.3rem;
        color: var(--text-strong);
      }

      .brand-dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: var(--accent);
        box-shadow: 0 0 20px rgba(245, 158, 11, 0.5);
      }

      .subtitle {
        color: var(--text-soft);
        font-size: 0.95rem;
      }

      /* Hero */
      .hero {
        text-align: center;
        margin-bottom: 80px;
      }

      .hero h1 {
        font-size: clamp(2rem, 5vw, 3.5rem);
        font-weight: 700;
        line-height: 1.1;
        margin-bottom: 20px;
        background: linear-gradient(135deg, var(--text-strong) 0%, var(--accent) 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .hero p {
        font-size: 1.2rem;
        color: var(--text);
        max-width: 600px;
        margin: 0 auto;
      }

      /* Implementation Cards */
      .implementations {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 24px;
        margin-bottom: 80px;
      }

      .impl-card {
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: var(--radius-lg);
        overflow: hidden;
        transition: all 0.3s;
      }

      .impl-card:hover {
        transform: translateY(-4px);
        border-color: rgba(251, 191, 36, 0.5);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
      }

      .impl-header {
        padding: 24px;
        border-bottom: 1px solid var(--border);
        background: rgba(251, 191, 36, 0.05);
      }

      .impl-badge {
        display: inline-block;
        padding: 4px 10px;
        border-radius: 6px;
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        margin-bottom: 12px;
      }

      .impl-badge--string {
        background: rgba(120, 113, 108, 0.3);
        color: var(--text-soft);
      }

      .impl-badge--astro {
        background: rgba(245, 158, 11, 0.2);
        color: var(--accent);
      }

      .impl-badge--react {
        background: rgba(97, 218, 251, 0.15);
        color: #61dafb;
      }

      .impl-title {
        font-size: 1.3rem;
        font-weight: 600;
        margin-bottom: 6px;
      }

      .impl-route {
        font-size: 0.85rem;
        color: var(--text-soft);
        font-family: "JetBrains Mono", monospace;
      }

      .impl-preview {
        padding: 24px;
        cursor: pointer;
        position: relative;
      }

      .impl-preview:hover .preview-overlay {
        opacity: 1;
      }

      .mock-frame {
        background: rgba(10, 8, 5, 0.6);
        border-radius: var(--radius-md);
        padding: 20px;
        border: 1px solid var(--border);
      }

      .mock-card {
        background: rgba(28, 25, 23, 0.9);
        border: 1px solid rgba(251, 191, 36, 0.2);
        border-radius: 12px;
        overflow: hidden;
      }

      .mock-body {
        padding: 20px;
      }

      .mock-line {
        height: 10px;
        background: rgba(251, 191, 36, 0.15);
        border-radius: 3px;
        margin-bottom: 8px;
      }

      .mock-line--long { width: 85%; }
      .mock-line--short { width: 60%; }

      .mock-footer {
        display: flex;
        gap: 8px;
        padding: 16px 20px;
        border-top: 1px solid rgba(251, 191, 36, 0.15);
      }

      .mock-btn {
        height: 28px;
        flex: 1;
        border-radius: 4px;
      }

      .mock-btn--ghost {
        background: transparent;
        border: 1px solid rgba(251, 191, 36, 0.3);
      }

      .mock-btn--primary {
        background: rgba(245, 158, 11, 0.6);
      }

      .preview-overlay {
        position: absolute;
        inset: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(0, 0, 0, 0.8);
        border-radius: var(--radius-md);
        opacity: 0;
        transition: opacity 0.3s;
      }

      .preview-btn {
        padding: 10px 20px;
        background: var(--accent);
        color: #1a0f00;
        border: none;
        border-radius: var(--radius-sm);
        font-weight: 600;
        font-size: 0.9rem;
        cursor: pointer;
      }

      .impl-info {
        padding: 0 24px 24px;
      }

      .impl-tech {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-bottom: 16px;
      }

      .tech-tag {
        padding: 4px 10px;
        background: rgba(251, 191, 36, 0.1);
        border: 1px solid rgba(251, 191, 36, 0.2);
        border-radius: 4px;
        font-size: 0.8rem;
        color: var(--text);
      }

      .impl-desc {
        color: var(--text-soft);
        font-size: 0.95rem;
        line-height: 1.6;
      }

      /* Code Section */
      .code-section {
        margin-bottom: 80px;
      }

      .code-header {
        text-align: center;
        margin-bottom: 40px;
      }

      .code-header h2 {
        font-size: 1.8rem;
        margin-bottom: 12px;
      }

      .code-header p {
        color: var(--text-soft);
      }

      .code-tabs {
        display: flex;
        gap: 8px;
        margin-bottom: 24px;
        border-bottom: 1px solid var(--border);
        padding-bottom: 16px;
      }

      .code-tab {
        padding: 10px 20px;
        background: transparent;
        border: 1px solid transparent;
        border-radius: var(--radius-sm);
        color: var(--text-soft);
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s;
      }

      .code-tab:hover {
        background: rgba(251, 191, 36, 0.1);
        color: var(--text);
      }

      .code-tab.active {
        background: rgba(245, 158, 11, 0.15);
        border-color: var(--accent);
        color: var(--accent);
      }

      .code-content {
        display: none;
      }

      .code-content.active {
        display: block;
      }

      .code-block {
        background: rgba(12, 10, 8, 0.9);
        border: 1px solid var(--border);
        border-radius: var(--radius-md);
        overflow: hidden;
      }

      .code-block-header {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 12px 16px;
        border-bottom: 1px solid var(--border);
        background: rgba(251, 191, 36, 0.05);
      }

      .dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;
      }

      .dot-red { background: #ef4444; }
      .dot-yellow { background: #eab308; }
      .dot-green { background: #22c55e; }

      .code-filename {
        margin-left: 8px;
        font-size: 0.85rem;
        color: var(--text-soft);
        font-family: "JetBrains Mono", monospace;
      }

      .code-block pre {
        margin: 0;
        padding: 24px;
        overflow-x: auto;
        font-family: "JetBrains Mono", "Fira Code", monospace;
        font-size: 0.85rem;
        line-height: 1.7;
        color: var(--text);
      }

      .code-keyword { color: #f59e0b; }
      .code-string { color: #a3e635; }
      .code-comment { color: #78716c; }
      .code-tag { color: #f97316; }
      .code-attr { color: #60a5fa; }
      .code-func { color: #c084fc; }

      /* Comparison Table */
      .comparison {
        margin-bottom: 80px;
      }

      .comparison h2 {
        text-align: center;
        font-size: 1.8rem;
        margin-bottom: 40px;
      }

      .table-wrapper {
        overflow-x: auto;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        font-size: 0.95rem;
      }

      th, td {
        padding: 16px 20px;
        text-align: left;
        border-bottom: 1px solid var(--border);
      }

      th {
        font-weight: 600;
        color: var(--accent);
        background: rgba(251, 191, 36, 0.05);
      }

      td {
        color: var(--text);
      }

      .check { color: #22c55e; font-weight: 700; }
      .cross { color: #ef4444; font-weight: 700; }

      /* Footer */
      .footer {
        padding: 40px 0;
        border-top: 1px solid var(--border);
        text-align: center;
        color: var(--text-soft);
        font-size: 0.9rem;
      }

      .footer a {
        color: var(--accent);
        text-decoration: none;
      }

      .footer a:hover {
        text-decoration: underline;
      }

      /* Responsive */
      @media (max-width: 900px) {
        .implementations {
          grid-template-columns: 1fr;
        }
        
        .code-tabs {
          flex-wrap: wrap;
        }
      }

      /* Modal */
      .modal-overlay {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.9);
        backdrop-filter: blur(8px);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
        z-index: 1000;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s;
      }

      .modal-overlay.active {
        opacity: 1;
        visibility: visible;
      }

      .modal-container {
        position: relative;
        width: 100%;
        max-width: 520px;
        max-height: 90vh;
        overflow: visible;
        transform: scale(0.95);
        transition: transform 0.3s;
      }

      .modal-overlay.active .modal-container {
        transform: scale(1);
      }

      .modal-close {
        position: absolute;
        top: -40px;
        right: 0;
        width: 32px;
        height: 32px;
        border-radius: 50%;
        border: 1px solid var(--border);
        background: var(--surface);
        color: var(--text);
        font-size: 1.2rem;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s;
      }

      .modal-close:hover {
        background: var(--accent);
        color: #1a0f00;
      }

      .paywall-frame {
        width: 100%;
        height: 600px;
        border: none;
        border-radius: var(--radius-lg);
        display: block;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <header class="header">
        <div class="header-content">
          <div class="brand">
            <span class="brand-dot"></span>
            Paywall POC
          </div>
          <div class="subtitle">Comparing three implementation approaches</div>
        </div>
      </header>

      <!-- Hero -->
      <section class="hero">
        <h1>Three Ways to Build a Paywall</h1>
        <p>Same UI, different implementation patterns. See how Astro enables multiple architectural approaches within a single codebase.</p>
      </section>

      <!-- Implementation Cards -->
      <section class="implementations">
        <!-- String Template -->
        <div class="impl-card">
          <div class="impl-header">
            <span class="impl-badge impl-badge--string">Approach 1</span>
            <h3 class="impl-title">String Templates</h3>
            <div class="impl-route">/templates/paywall.ts</div>
          </div>
          <div class="impl-preview" onclick="openPreview('/paywall?variant=default&show_survey=true')">
            <div class="mock-frame">
              <div class="mock-card">
                <div class="mock-body">
                  <div class="mock-line mock-line--long"></div>
                  <div class="mock-line mock-line--short"></div>
                </div>
                <div class="mock-footer">
                  <div class="mock-btn mock-btn--ghost"></div>
                  <div class="mock-btn mock-btn--primary"></div>
                </div>
              </div>
            </div>
            <div class="preview-overlay">
              <button class="preview-btn">Preview</button>
            </div>
          </div>
          <div class="impl-info">
            <div class="impl-tech">
              <span class="tech-tag">TypeScript</span>
              <span class="tech-tag">Template Literals</span>
              <span class="tech-tag">Zero Build</span>
            </div>
            <p class="impl-desc">
              Classic API route that returns HTML via string concatenation. Direct, simple, and zero abstraction overhead.
            </p>
          </div>
        </div>

        <!-- Astro Component -->
        <div class="impl-card">
          <div class="impl-header">
            <span class="impl-badge impl-badge--astro">Approach 2</span>
            <h3 class="impl-title">Astro Components</h3>
            <div class="impl-route">/paywall-astro</div>
          </div>
          <div class="impl-preview" onclick="openPreview('/paywall-astro')">
            <div class="mock-frame">
              <div class="mock-card">
                <div class="mock-body">
                  <div class="mock-line mock-line--long"></div>
                  <div class="mock-line mock-line--short"></div>
                </div>
                <div class="mock-footer">
                  <div class="mock-btn mock-btn--ghost"></div>
                  <div class="mock-btn mock-btn--primary"></div>
                </div>
              </div>
            </div>
            <div class="preview-overlay">
              <button class="preview-btn">Preview</button>
            </div>
          </div>
          <div class="impl-info">
            <div class="impl-tech">
              <span class="tech-tag">.astro Files</span>
              <span class="tech-tag">Slots</span>
              <span class="tech-tag">Scoped CSS</span>
            </div>
            <p class="impl-desc">
              Leverages Astro's component model with composition via slots and scoped styles. Zero client JS by default.
            </p>
          </div>
        </div>

        <!-- React Component -->
        <div class="impl-card">
          <div class="impl-header">
            <span class="impl-badge impl-badge--react">Approach 3</span>
            <h3 class="impl-title">React Components</h3>
            <div class="impl-route">/paywall-react</div>
          </div>
          <div class="impl-preview" onclick="openPreview('/paywall-react')">
            <div class="mock-frame">
              <div class="mock-card">
                <div class="mock-body">
                  <div class="mock-line mock-line--long"></div>
                  <div class="mock-line mock-line--short"></div>
                </div>
                <div class="mock-footer">
                  <div class="mock-btn mock-btn--ghost"></div>
                  <div class="mock-btn mock-btn--primary"></div>
                </div>
              </div>
            </div>
            <div class="preview-overlay">
              <button class="preview-btn">Preview</button>
            </div>
          </div>
          <div class="impl-info">
            <div class="impl-tech">
              <span class="tech-tag">React</span>
              <span class="tech-tag">CSS Modules</span>
              <span class="tech-tag">Client Islands</span>
            </div>
            <p class="impl-desc">
              Familiar React patterns with CSS Modules for scoped styling. Opt-in hydration when interactivity is needed.
            </p>
          </div>
        </div>
      </section>

      <!-- Code Examples -->
      <section class="code-section">
        <div class="code-header">
          <h2>See the Code</h2>
          <p>Each approach has fundamentally different implementation patterns</p>
        </div>

        <div class="code-tabs">
          <button class="code-tab active" onclick="showCode('string')">String Templates</button>
          <button class="code-tab" onclick="showCode('astro')">Astro Components</button>
          <button class="code-tab" onclick="showCode('react')">React Components</button>
        </div>

        <!-- String Template Code -->
        <div class="code-content active" id="code-string">
          <div class="code-block">
            <div class="code-block-header">
              <span class="dot dot-red"></span>
              <span class="dot dot-yellow"></span>
              <span class="dot dot-green"></span>
              <span class="code-filename">src/pages/templates/paywall.ts</span>
            </div>
            <pre is:raw><span class="code-keyword">import</span> { htmlPage } <span class="code-keyword">from</span> <span class="code-string">'../../lib/paywall'</span>;

<span class="code-keyword">export function</span> <span class="code-func">GET</span>({ request }) {
  <span class="code-keyword">const</span> url = <span class="code-keyword">new</span> <span class="code-tag">URL</span>(request.url);
  <span class="code-keyword">const</span> dismissable = url.searchParams.<span class="code-func">get</span>(<span class="code-string">'dismissable'</span>) === <span class="code-string">'true'</span>;
  
  <span class="code-keyword">return new</span> <span class="code-tag">Response</span>(
    <span class="code-func">htmlPage</span>(
      <span class="code-string">`&lt;div class="layout-shell"&gt;
        &lt;article class="modal-card"&gt;
          ${dismissable ? '&lt;button&gt;Close&lt;/button&gt;' : ''}
          &lt;div class="card-body"&gt;
            &lt;h1&gt;Move forward with a better plan&lt;/h1&gt;
            &lt;p&gt;Choose a subscription...&lt;/p&gt;
          &lt;/div&gt;
          &lt;div class="card-footer"&gt;
            &lt;a href="/"&gt;Go back&lt;/a&gt;
            &lt;a href="/pricing"&gt;See Pro plans&lt;/a&gt;
          &lt;/div&gt;
        &lt;/article&gt;
      &lt;/div&gt;`</span>
    ),
    { headers: { <span class="code-string">'content-type'</span>: <span class="code-string">'text/html'</span> } }
  );
}</pre>
          </div>
        </div>

        <!-- Astro Component Code -->
        <div class="code-content" id="code-astro">
          <div class="code-block">
            <div class="code-block-header">
              <span class="dot dot-red"></span>
              <span class="dot dot-yellow"></span>
              <span class="dot dot-green"></span>
              <span class="code-filename">src/pages/paywall-astro/index.astro</span>
            </div>
            <pre is:raw><span class="code-keyword">---</span>
<span class="code-keyword">import</span> <span class="code-tag">PaywallCard</span> <span class="code-keyword">from</span> <span class="code-string">'../../components/PaywallCard.astro'</span>;
<span class="code-keyword">import</span> <span class="code-tag">CtaButton</span> <span class="code-keyword">from</span> <span class="code-string">'../../components/CtaButton.astro'</span>;

<span class="code-keyword">const</span> dismissable = <span class="code-tag">Astro</span>.url.searchParams.<span class="code-func">get</span>(<span class="code-string">'dismissable'</span>) === <span class="code-string">'true'</span>;
<span class="code-keyword">---</span>

<span class="code-tag">&lt;PaywallCard&gt;</span>
  {dismissable &amp;&amp; <span class="code-tag">&lt;CloseButton /&gt;</span>}
  
  <span class="code-tag">&lt;h1&gt;</span>Move forward with a better plan<span class="code-tag">&lt;/h1&gt;</span>
  <span class="code-tag">&lt;p&gt;</span>Choose a subscription...<span class="code-tag">&lt;/p&gt;</span>

  <span class="code-tag">&lt;Fragment</span> <span class="code-attr">slot</span>=<span class="code-string">"footer"</span><span class="code-tag">&gt;</span>
    <span class="code-tag">&lt;CtaButton</span> <span class="code-attr">variant</span>=<span class="code-string">"ghost"</span> <span class="code-attr">href</span>=<span class="code-string">"/"</span><span class="code-tag">&gt;</span>
      Go back
    <span class="code-tag">&lt;/CtaButton&gt;</span>
    <span class="code-tag">&lt;CtaButton</span> <span class="code-attr">variant</span>=<span class="code-string">"primary"</span> <span class="code-attr">href</span>=<span class="code-string">"/pricing"</span><span class="code-tag">&gt;</span>
      See Pro plans
    <span class="code-tag">&lt;/CtaButton&gt;</span>
  <span class="code-tag">&lt;/Fragment&gt;</span>
<span class="code-tag">&lt;/PaywallCard&gt;</span>

<span class="code-tag">&lt;style&gt;</span>
  <span class="code-comment">/* Scoped to this component only */</span>
  h1 { <span class="code-attr">color</span>: <span class="code-keyword">var</span>(--accent); }
<span class="code-tag">&lt;/style&gt;</span></pre>
          </div>
        </div>

        <!-- React Component Code -->
        <div class="code-content" id="code-react">
          <div class="code-block">
            <div class="code-block-header">
              <span class="dot dot-red"></span>
              <span class="dot dot-yellow"></span>
              <span class="dot dot-green"></span>
              <span class="code-filename">src/components/paywall/react/PaywallCard.tsx</span>
            </div>
            <pre is:raw><span class="code-keyword">import</span> <span class="code-tag">React</span> <span class="code-keyword">from</span> <span class="code-string">'react'</span>;
<span class="code-keyword">import</span> styles <span class="code-keyword">from</span> <span class="code-string">'./PaywallCard.module.css'</span>;

<span class="code-keyword">interface</span> <span class="code-tag">Props</span> {
  children: <span class="code-tag">React.ReactNode</span>;
  footer?: <span class="code-tag">React.ReactNode</span>;
}

<span class="code-keyword">export const</span> <span class="code-func">PaywallCard</span>: <span class="code-tag">React.FC</span>&lt;<span class="code-tag">Props</span>&gt; = ({ 
  children, 
  footer 
}) =&gt; {
  <span class="code-keyword">return</span> (
    <span class="code-tag">&lt;article</span> <span class="code-attr">className</span>={styles.card}<span class="code-tag">&gt;</span>
      <span class="code-tag">&lt;div</span> <span class="code-attr">className</span>={styles.body}<span class="code-tag">&gt;</span>{children}<span class="code-tag">&lt;/div&gt;</span>
      {footer <span class="code-keyword">&&</span> <span class="code-tag">&lt;div</span> <span class="code-attr">className</span>={styles.footer}<span class="code-tag">&gt;</span>{footer}<span class="code-tag">&lt;/div&gt;</span>}
    <span class="code-tag">&lt;/article&gt;</span>
  );
};

<span class="code-comment">// CSS Modules: PaywallCard.module.css</span>
<span class="code-comment">// .card { ... } Scoped to component only</span></pre>
          </div>
        </div>
      </section>

      <!-- Comparison Table -->
      <section class="comparison">
        <h2>Approach Comparison</h2>
        <div class="table-wrapper">
          <table>
            <thead>
              <tr>
                <th>Feature</th>
                <th>String Templates</th>
                <th>Astro Components</th>
                <th>React Components</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>File Extension</td>
                <td>.ts</td>
                <td>.astro</td>
                <td>.tsx</td>
              </tr>
              <tr>
                <td>Build Step</td>
                <td>None (runtime)</td>
                <td>Astro compiler</td>
                <td>Astro + React</td>
              </tr>
              <tr>
                <td>Component Composition</td>
                <td><span class="cross">✗</span> String concat</td>
                <td><span class="check">✓</span> Slots</td>
                <td><span class="check">✓</span> Props/Children</td>
              </tr>
              <tr>
                <td>Scoped Styles</td>
                <td><span class="cross">✗</span> Global CSS</td>
                <td><span class="check">✓</span> &lt;style&gt; tags</td>
                <td><span class="check">✓</span> CSS Modules</td>
              </tr>
              <tr>
                <td>Client JavaScript</td>
                <td><span class="check">✓</span> Zero</td>
                <td><span class="check">✓</span> Zero by default</td>
                <td><span class="cross">✗</span> Hydrated</td>
              </tr>
              <tr>
                <td>Type Safety</td>
                <td><span class="check">✓</span> TypeScript</td>
                <td><span class="check">✓</span> Props + TS</td>
                <td><span class="check">✓</span> Full TS + JSX</td>
              </tr>
              <tr>
                <td>Best For</td>
                <td>Simple, direct</td>
                <td>Compositional UI</td>
                <td>Dynamic interactivity</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Footer -->
      <footer class="footer">
        <p>
          <strong>Paywall POC</strong> — Demonstrating Astro's flexibility.<br>
          Same UI implemented three different ways. You choose what fits your team.
        </p>
      </footer>
    </div>

    <!-- Modal -->
    <div class="modal-overlay" id="previewModal" onclick="closeModal(event)">
      <div class="modal-container" onclick="event.stopPropagation()">
        <button class="modal-close" onclick="closePreview()" aria-label="Close">×</button>
        <iframe 
          id="previewFrame" 
          class="paywall-frame"
          title="Paywall Preview"
          src=""
        ></iframe>
      </div>
    </div>

    <script is:inline>
      function openPreview(url) {
        const modal = document.getElementById('previewModal');
        const frame = document.getElementById('previewFrame');
        frame.src = url;
        modal.classList.add('active');
        document.body.style.overflow = 'hidden';
      }

      function closePreview() {
        const modal = document.getElementById('previewModal');
        const frame = document.getElementById('previewFrame');
        modal.classList.remove('active');
        document.body.style.overflow = '';
        setTimeout(() => {
          frame.src = '';
        }, 300);
      }

      function closeModal(event) {
        if (event.target === event.currentTarget) {
          closePreview();
        }
      }

      function showCode(type) {
        // Update tabs
        document.querySelectorAll('.code-tab').forEach(tab => {
          tab.classList.remove('active');
          if (tab.textContent.toLowerCase().includes(type)) {
            tab.classList.add('active');
          }
        });
        
        // Update content
        document.querySelectorAll('.code-content').forEach(content => {
          content.classList.remove('active');
        });
        document.getElementById('code-' + type).classList.add('active');
      }

      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
          closePreview();
        }
      });
    </script>
  </body>
</html>
